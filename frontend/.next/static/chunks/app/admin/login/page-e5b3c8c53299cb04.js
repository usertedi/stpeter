(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{6625:function(e,r,t){Promise.resolve().then(t.bind(t,8996))},8996:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var a=t(7437),s=t(2265),n=t(4033),o=t(6691),l=t.n(o);let i=s.forwardRef(function({title:e,titleId:r,...t},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?s.createElement("title",{id:r},e):null,s.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))});function d(){let[e,r]=(0,s.useState)(""),[t,o]=(0,s.useState)(""),[d,c]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),p=(0,n.useRouter)(),f=async r=>{r.preventDefault(),c(""),m(!0);try{let r=await fetch("".concat("http://localhost:5000/api","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await r.json();r.ok&&a.token?(localStorage.setItem("token",a.token),p.push("/admin")):c(a.error||"Invalid email or password")}catch(e){c("An error occurred during login"),console.error(e)}finally{m(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(l(),{src:"/images/logo.png",alt:"St. Peter Orthodox Church",width:100,height:100,className:"h-24 w-auto"})}),(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access the admin dashboard"})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:f,children:[d&&(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:d})})})}),(0,a.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,a.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:e=>r(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:e=>o(e.target.value)})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,a.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,a.jsx)(i,{className:"h-5 w-5 text-primary-500 group-hover:text-primary-400","aria-hidden":"true"})}),u?"Signing in...":"Sign in"]})})]})]})})}},622:function(e,r,t){"use strict";var a=t(2265),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function d(e,r,t){var a,n={},d=null,c=null;for(a in void 0!==t&&(d=""+t),void 0!==r.key&&(d=""+r.key),void 0!==r.ref&&(c=r.ref),r)o.call(r,a)&&!i.hasOwnProperty(a)&&(n[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===n[a]&&(n[a]=r[a]);return{$$typeof:s,type:e,key:d,ref:c,props:n,_owner:l.current}}r.Fragment=n,r.jsx=d,r.jsxs=d},7437:function(e,r,t){"use strict";e.exports=t(622)},4033:function(e,r,t){e.exports=t(94)}},function(e){e.O(0,[691,971,472,744],function(){return e(e.s=6625)}),_N_E=e.O()}]);